<!DOCTYPE html>
<head>
<title> Livello 4, Trasporto </title>
<meta name="viewport" content="width=device-width, initial-scale=1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="generator" content="Org-mode"><meta name="author" content="Matteo Lugli üêÉ">
<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@5.2/distr/fira_code.css">
<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
<style>
    .theme-light {
	--color-primary: black;
	--color-background: white;
	--color-text: black;
    }

    .theme-dark {
    
	--color-primary: #23b0ff;
	--color-background: #21202C;
	--color-text: white;
    }
    
    body {
	font-family: 'Fira Code', monospace;
	font-size: 20px;
	background-color: var(--color-background);
    }

    div#menu {
	position: sticky;
	position: -webkit-sticky;
	top: 5px;
	z-index: 30;
    }

    div#menu button {
	right: 0px;
	position: absolute;
    }

    p {
	color: var(--color-text);
    }

    h1, h2, h3, h4, h5, a {
	color: var(--color-primary);
    }

    nav a {
	color: var(--color-text);
    }

    nav a:hover {
	color: var(--color-primary);
	text-decoration: none;
    }

    ul li, ol li {
	color: var(--color-primary);
    }

    .collapsible {
	background-color: var(--color-background);
	border: none;
	text-align: left;
    }
    
    .top-buffer { margin-top: 18px; }

    figcaption { font-size: 15px; }

    footer { text-align: center; }

    .observation {
	border-style: solid;
	margin-top: 20px;
	margin-bottom: 20px;
    }

    pre {
	font-size: 20px;
	background-color: black;
	color: white;
	inline-size: 900px;
	overflow: auto;
	word-wrap: normal;
    }

    blockquote {
	border-left: 5px solid var(--color-primary);
    }
    .MathJax_SVG_Display{
        color:white;
    }

    blockquote p {
	color: var(--color-text);
    }

    /* side-menu stuff */
    .side-menu {
	position: fixed;
	left: 0;
	width: 60px;
	height: 100%;
	z-index: 100;
    }

    .side-menu-content {
	display: none;
	position: absolute;
	top: 60px;
	left: 0px;
	height: 100%;
	/* background-color: var(--color-primary); */
	z-index: 100;	
    }

    .side-menu-content ul {
	list-style-type: none;
	position: relative;
	margin-left: 5px;
	width: 100%;
	padding-left: 0px;
    }

    .side-menu-content ul li {
	position: relative;
	padding-top: 5px;
	font-size: 15px;
	padding-left: 0px;
    }

    .side-menu-content ul li a {
	color: var(--color-primary);
	text-decoration: none;
	font-weight: bold;
    }

    .toggle {
	position: absolute;
	display: block;
	top: 0;
	left: 0;
	width: 80px;
	height: 60px;
	background: var(--color-background);
    }

    .toggle:hover {
	background: var(--color-primary);
    }

    .toggle:before {
	content: '\f0c9';
	font-family: fontAwesome;
	position: absolute;
	width: 100%;
	height: 100%;
	line-height: 60px;
	text-align: center;
	font-size: 24px;
	color: var(--color-text);
    }

    @media (max-width: 1024px) {
	pre {
	    inline-size: 600px;
	}
    }

    @media (max-width: 576px) {
	* {
	    font-size: 10px;
	}

	h1 {
	    font-size: 13px;
	}

	h2, h3, h4, h5 {
	    font-size: 12px;
	}

	blockquote {
	    font-size: 15px;
	}

	pre, li pre {
	    font-size: 10px;
	    color: white;
	    inline-size: 300px;
	    word-wrap: normal;
	    overflow: auto;
	}

        li pre {
	    inline-size: 250px;
        }

	.toggle {
	    width: 30px;
	}

	.toggle:before {
	    content: '\f0c9';
	    font-family: fontAwesome;
	    position: absolute;
	    width: 100%;
	    height: 100%;
	    line-height: 60px;
	    text-align: center;
	    font-size: 12px;
	    color: var(--color-text);
	}	
    }


</style>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  displayAlign: "center",
  displayIndent: "2em",
  messageStyle: "none",
  "HTML-CSS": {
    scale: 100,
    styles: {
      ".MathJax_Display": {
        "font-size": "100%"
      }
    }
  },
  "SVG": {
    scale: 100,
    styles: {
      ".MathJax_SVG_Display": {
        "font-size": "100%",
        "margin-left": "-2.281em"
      }
    }
  }
});
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_SVG"></script>
</head>
<body>
<div id="content" class="container">

<div class="row top-buffer"> </div>

<div class="row">
   <div class="col-xs-1"></div>
   <div class="col-xs-10"><h1 class="title">Livello 4, Trasporto</h1>
   </div>
   <div class="col-xs-1"></div>
</div> <!-- end row -->
<div class="row">
   <div class="col-xs-1"></div>
   <div class="col-xs-10"><hr style="border: 1px solid #FFFFFF" />   </div>
   <div class="col-xs-1"></div>
</div> <!-- end row -->
<div class="row">
   <div class="col-xs-1"></div>
   <div class="col-xs-10"><div id="outline-container-sec-" class="outline-2"><button type="button" class="collapsible">
<h2 id="sec-" style="text-decoration: underline">  Lecture Info &triangledown;</h2>
</button><div class='sec- collapsible-content'>
<p>
Appunti della lezione in presenza 15/11/22.
Si √® parlato ampiamente del livello 4, seguendo abbastanza fedelmente le slide.
</p>
</div>
</div>
   </div>
   <div class="col-xs-1"></div>
</div> <!-- end row -->

<div class="row">
   <div class="col-xs-1"></div>
   <div class="col-xs-10"><div id="outline-container-sec-1" class="outline-2"><button type="button" class="collapsible">
<h2 id="sec-1" style="text-decoration: underline"> 1 Introduzione &triangledown;</h2>
</button><div class='sec-1 collapsible-content'>
<p>
I due protocolli pi√π diffusi e usati a livello 4 sono il TCP(<i>Transfer Control Protocol</i>)
e l'UDP(<i>User Datagram Protocol</i>).
Questi regolamentano la comunicazione tra processi applicativi su host diversi o addirittura
sulla stessa macchina.
Le due caratteristiche fondamentali di questi protocolli sono:
</p>
<ol class="org-ol">
<li><p>
<b>Multiplexing</b> e <b>demultiplexing</b> di messaggi tra processi.
</p>
</li>
<li><p>
<b>Rilevamento</b> degli errori
</p>
</li>
</ol>

<p>
UDP implementa principalmente queste due funzionalit√†,
mentre TCP ne aggiunge molte altre, come:
</p>
<ul class="org-ul">
<li><p>
<b>Garanzia dell'affidabilit√†</b> del trasferimento.
</p>
</li>
<li><p>
<b>Gestione di congestioni</b> di rete.
</p>
</li>
</ul>
<p>
\(\Rightarrow\) TCP risulta quindi essere molto complesso rispetto a UDP.
</p>
</div>
</div>
   </div>
   <div class="col-xs-1"></div>
</div> <!-- end row -->

<div class="row">
   <div class="col-xs-1"></div>
   <div class="col-xs-10"><div id="outline-container-sec-2" class="outline-2"><button type="button" class="collapsible">
<h2 id="sec-2" style="text-decoration: underline"> 2 Multiplazione e Demultiplazione &triangledown;</h2>
</button><div class='sec-2 collapsible-content'>
<ul class="org-ul">
<li><p>
<b>Multiplazione</b> \(\rightarrow\) invio dei pacchetti
</p>
</li>
<li><p>
<b>Demultiplazione</b> \(\rightarrow\) ricezione dei pacchetti: dallo stesso livello 3
si deve capire a quale processo il pacchetto deve essere inoltrato.
</p>
</li>
</ul>

<p>
Questi protocolli di comunicazione implementano una logica basata sulle <b>porte</b>.
Mettiamo che il processo P1 debba inviare un pacchetto a P3: entrambi
i processi saranno identificati da una <b>porta sorgente</b>
e una <b>porta destinataria</b>.
</p>
</div>
<div id="outline-container-sec-2-1" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-2-1" nil> 2.1 Paradigma client server &triangledown;</h3>
</button><div class='sec-2-1 collapsible-content'>
<ul class="org-ul">
<li><p>
<b>server</b> \(\rightarrow\) connessione passiva;
</p>
</li>
<li><p>
<b>client</b> \(\rightarrow\) connessione attiva;
</p>
</li>
</ul>
<p>
Un processo(server) deve "aprire" una porta sul
suo sistema operativo, e aspettare delle richeste 
su quella porta da parte di un client.
Un processo quindi "<b>prenota</b>" una porta, ci√≤ significa che:
</p>
<ul class="org-ul">
<li><p>
pi√π processi non possono prenotare la stessa porta
</p>
</li>
<li><p>
quando un server prenota una porta deve specificare 
che protocollo ha intenzione di usare.
</p>
</li>
</ul>
<p>
Ricordiamo che nel datagram IP, nel campo "protocol", c'√®
l'informazione sul livello 4: il sistema operativo
riesce gi√† a capire quale protocollo deve gestire il pacchetto soltanto
leggendo l'header IP.
</p>

<p>
Il client quando si connette ad una porta, 
specifica anche una porta sorgente per gestire
eventuali risposte da parte del server.
Spesso la porta sorgente del client viene scelta
in modo autonomo dal sistema operativo.
</p>
</div>
</div>
<div id="outline-container-sec-2-2" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-2-2" nil> 2.2 Porte &triangledown;</h3>
</button><div class='sec-2-2 collapsible-content'>
<p>
Numero intero da 0 a \(2^{16}-1\), quindi l'informazione
occupa <b>16 bit</b>.
</p>
<ul class="org-ul">
<li><p>
[0,1024] \(\rightarrow\) <b>Well Known Ports</b>, sono state
associate in modo ben definito a dei protocolli
applicativi "standard".
Esempio: se un server ascolta sulla porta 80, allora
DOVREBBE implementare il protocollo applicativo http.
</p>
<ul class="org-ul">
<li><p>
Telnet \(\rightarrow\) 23
</p>
</li>
<li><p>
SMTP \(\rightarrow\) 25
</p>
</li>
<li><p>
...
</p>
</li>
</ul>
<p>
In questo modo, in certi casi si riesce ad omettere l'informazione
riguardo alla porta, che viene recuperata dallo standard.
</p>

<p>
Queste well known ports, oltre ad essere parte dello standard,
sono gestite diversamente dal sistema operativo. Ad esempio, 
per mettere un processo arbitrario in ascolto su una w.k.p,
servono <b>privilegi di amministratore</b>;
</p>
</li>
<li><p>
[1024-49151] \(\rightarrow\) <b>Registered ports</b>.
</p>
</li>
<li><p>
altre porte \(\rightarrow\) porte completamente scorrelate rispetto
a qualsiasi protocollo applicativo noto.
</p>
</li>
</ul>

<p>
Su linux esiste un file che istruisce il SO sul mapping
numero di porta / processo applicativo, per leggerlo si
usa il seguente comando:
</p>
<div class="org-src-container">

<pre class="src src-sh">less /etc/services
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-3" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-2-3" nil> 2.3 Riassumendo &triangledown;</h3>
</button><div class='sec-2-3 collapsible-content'>
<p>
Esiste quindi una <b>quintupla</b> che identifica un generico flusso a livello 
trasporto su internet:
</p>

<p>

<div class="row top-buffer"> </div>
<img src="./trasporto1.png"class="img-responsive"style="display: block; margin-left: auto; margin-right: auto;">
<div class="row top-buffer"> </div>

</p>

<p>
Si da un'ulteriore definizione che pu√≤ tornare utile quando si studia il livello 4:
</p>
<ul class="org-ul">
<li><p>
<b>packet flow</b> \(\rightarrow\) flusso di pacchetti appartenenti
alla stessa comunicazione. Per identificarlo, <b>non</b>
basta conoscere soltanto la sorgente e la destinazione.
Infatti ad esempio nel payload dei pacchetti ICMP
c'√® memorizzato un ID che identifica appunto il flusso di pacchetti.
</p>
</li>
</ul>
</div>
</div>
</div>
   </div>
   <div class="col-xs-1"></div>
</div> <!-- end row -->

<div class="row">
   <div class="col-xs-1"></div>
   <div class="col-xs-10"><div id="outline-container-sec-3" class="outline-2"><button type="button" class="collapsible">
<h2 id="sec-3" style="text-decoration: underline"> 3 Protocollo UDP &triangledown;</h2>
</button><div id="outline-container-sec-3-1" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-3-1" nil> 3.1 Caratteristiche &triangledown;</h3>
</button><div class='sec-3-1 collapsible-content'>
<p>
Si parte quindi dallo studio del protocollo pi√π semplice: l'UDP. Esso fornisce
due servizi:
</p>
<ol class="org-ol">
<li><p>
<b>Multiplexing e Demultiplexing.</b>
</p>
</li>
<li><p>
<b>Controllo dell'errore.</b>
</p>
</li>
</ol>
<p>
A differenza del protocollo TCP, il protocollo UDP <b>non garantisce</b> l'affidabilit√† della
consegna dei pacchetti.
</p>

<p>
<i>Ma cosa significa UDP?</i>
</p>

<ul class="org-ul">
<li><p>
User DATAGRAM protocol \(\rightarrow\) l'applicazione che usa il protocollo
sa che deve inviare dei <b>pacchetti</b>, quindi sa che deve adottare un approccio prettamente orientato
al <b>packet switching</b>. Questi hanno una dimensione
massima, pari a 
</p>
</li>
</ul>
\begin{equation}
dim(Payload_{IP}) - dim(Header_{UDP})
\end{equation}
<p>
ricordiamo che a sua volta il pacchetto IP sarebbe limitato dalla grandezza
dei pacchetti del livello H2N, ma IP in realt√† √® in grado di frammentare
i pacchetti, quindi "realmente" il problema non sussiste.
Il problema ci sarebbe se non ci fosse la possibilit√† appunto di frammentare i pacchetti.
</p>
</div>
</div>
<div id="outline-container-sec-3-2" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-3-2" nil> 3.2 Header UDP &triangledown;</h3>
</button><div class='sec-3-2 collapsible-content'>
<p>

<div class="row top-buffer"> </div>
<img src="./trasporto2.png"class="img-responsive"style="display: block; margin-left: auto; margin-right: auto;">
<div class="row top-buffer"> </div>

</p>

<p>
Il campo <b>checksum</b> contiene anche informazioni
inerenti al livello 3, perch√® si vuole fare una sorta
di controllo anche su quel livello, dato che le informazioni ivi contenute
hanno un'impatto sulla logica applicativa del livello 4.
</p>

<p>
Ma nell'header del protocollo IPv4 c'√® gi√† il checksum... infatti pu√≤ sembrare
ridondante inserire un'ulteriore controllo a livello 4. \(\rightarrow\) nel protocollo IPv6 infatti il checksum
non viene inserito per risparmiare spazio.
</p>
</div>
<div id="outline-container-sec-3-2-1" class="outline-4"><button type="button" class="collapsible">
<h4 id="sec-3-2-1" nil> 3.2.1 Checksum &triangledown;</h4>
</button><div class='sec-3-2-1 collapsible-content'>
<p>
L'algoritmo di checksum prende in input 3 elementi:
</p>
<ul class="org-ul">
<li><p>
<b>pseudoheader</b> (alcune informazioni prelevate dall'header di livello 3)
</p>
</li>
<li><p>
<b>header UDP</b>
</p>
</li>
<li><p>
<b>payload UDP</b>
</p>
</li>
</ul>

<p>
Ecco lo pseudoheader nello specifico \(\Downarrow\)
</p>

<p>

<div class="row top-buffer"> </div>
<img src="./trasporto3.png"class="img-responsive"style="display: block; margin-left: auto; margin-right: auto;">
<div class="row top-buffer"> </div>

</p>

<p>
Il checksum viene poi inserito nel pacchetto che verr√† 
inviato: il destinatario si calcoler√† il checksum con
lo stesso algoritmo e verr√† fatto un matching per capire
se ci sono stati errori. In particolare:
</p>

<ul class="org-ul">
<li><p>
Il mittente calcola il checksum facendo il <b>complemento a 1 della somma di tutti i campi dello pseudo header e del pacchetto UDP</b>;
</p>
</li>
<li><p>
Il mittente inserisce questo campo all'interno dell'header UDP e lo invia al destinatario.
</p>
</li>
<li><p>
Il destinatario calcola il suo checksum allo stesso modo, basandosi su pseudo-header e pacchetto UDP ricevuto;
</p>
</li>
<li><p>
Il destinatario fa la somma tra il suo checksum e quello che gli √® arrivato: se questa genera una stringa
di tutti 1, allora la trasmissione √® avvenuta correttamente, altrimenti ci sono stati errori.
</p>
</li>
</ul>
<blockquote>
<p>
A livello 4 alla fine interessa sapere se il mittente e il destinatario
sono quelli corretti, a meno di dettagli secondari.
</p>
</blockquote>
</div>
</div>
</div>
</div>
   </div>
   <div class="col-xs-1"></div>
</div> <!-- end row -->

<div class="row">
   <div class="col-xs-1"></div>
   <div class="col-xs-10"><div id="outline-container-sec-4" class="outline-2"><button type="button" class="collapsible">
<h2 id="sec-4" style="text-decoration: underline"> 4 Protocollo TCP &triangledown;</h2>
</button><div id="outline-container-sec-4-1" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-4-1" nil> 4.1 Introduzione &triangledown;</h3>
</button><div class='sec-4-1 collapsible-content'>
<p>
Ecco (in breve) le principali caratteristiche aggiuntive del protocollo TCP:
</p>
<ul class="org-ul">
<li><p>
<b>Garanzia di affidabilit√†</b>
</p>
</li>
</ul>
<p>
Il paradigma √®:
</p>
<ul class="org-ul">
<li><p>
Orientato <b>alla connessione</b>: quando si vuole comunicare
si esegue un sottoprotocollo per stipulare una connessione
col destinatario.
</p>
</li>
<li><p>
Orientato allo scambio di un <b>flusso di dati</b>:
scambio di una quantit√† illimitata di byte.
</p>
</li>
</ul>
<p>
Il sistema operativo fa credere all'applicazione che
tutti i dati vengono trasmessi in modo affidabile.
</p>
<ul class="org-ul">
<li><p>
Capacit√† di rilevazione  dell'errore;
</p>
</li>
<li><p>
Capacit√† di <b>reazione</b> all'errore;
</p>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-4-2" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-4-2" nil> 4.2 Rilevare gli errori &triangledown;</h3>
</button><div class='sec-4-2 collapsible-content'>
<p>
Quando si parla di rilevazione di un'errore, si fa riferimento
ai seguenti problemi:
</p>
<ul class="org-ul">
<li><p>
compromissione dell'integrit√† del pacchetto, rilevata
tramite il checksum;
</p>
</li>
<li><p>
pacchetto che non arriva;
</p>
</li>
<li><p>
pacchetto che arriva pi√π volte;
</p>
</li>
<li><p>
consegne in ordine sbagliato;
</p>
</li>
</ul>

<p>
Esistono dei protocolli applicativi a cui non interessano
<b>tutte</b> le funzionalit√† di TCP, ma soltanto alcune. 
Solitamente questi protocolli usano una versione modificata di UDP,
per risparmiare sulla logica!
(Ad esempio, su una lunga trasmissione di streaming video, l'arrivo di <i>tutti</i> i
pacchetti pu√≤ anche non essere di fondamentale importanza.)
</p>

<p>
Il mittente deve quindi avere dei feedback da parte del destinatario, in modo da
capire se la comunicazione √® andata a buon fine o se ci sono stati dei problemi.
</p>

<p>
\(\Rightarrow\) logica di <b>acknowledgment</b> (o <i>feedback</i>):
</p>
<ul class="org-ul">
<li><p>
acknowledgment <b>positivo</b>: informazione che il destinatario invia ogni volta
che riceve una trasmissione corretta.
</p>
</li>
<li><p>
acknowledgment <b>negativo</b>: il destinatario segnala un errore nella comunicazione.
</p>
</li>
</ul>

<p>
Nella maggior parte dei casi viene usato soltanto l'ack(nowledgment) positivo,
per segnalare la ricezione corretta del pacchetto. Il destinatario
invece sta in silenzio se rileva degli errori, facendo scattare un "timeout".
</p>

<p>
Se il mittente invia un'informazione e non riceve un ack,
allora si assume che la comunicazione non
sia avvenuta correttamente.
</p>

<p>
TCP √® stato sviluppato considerando che la maggior parte
degli errori √® dovuto a dei pacchetti <b>non consegnati</b>, per
il sovraccarico di router. Per questo si fa uso solo di 
un timeout.
</p>

<p>
Il problema di pacchetti distorti √® raro.
Tutta questa logica √® gestita dal SO.
</p>
</div>
</div>

<div id="outline-container-sec-4-3" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-4-3" nil> 4.3 Rimediare &triangledown;</h3>
</button><div class='sec-4-3 collapsible-content'>
<p>
In generale, il concetto √® quello che i dati devono
essere <b>ritrasmessi</b>, non c'√® molto altro da dire.
</p>
</div>
</div>
<div id="outline-container-sec-4-4" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-4-4" nil> 4.4 Trasporto orientato alla connessione &triangledown;</h3>
</button><div class='sec-4-4 collapsible-content'>
<p>
Instaurare una connessione permette ad esempio di capire
se il processo destinatario esiste o meno!
E' quindi utile avere una <b>fase di apertura</b> per testare
la capacit√† di comunicare del destinatario.
In totale le fasi (tutte <b>affidabili</b>) sono:
</p>
<ul class="org-ul">
<li><p>
Apertura
</p>
</li>
<li><p>
Utilizzo
</p>
</li>
<li><p>
Chiusura
</p>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-4-5" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-4-5" nil> 4.5 Segmentazione &triangledown;</h3>
</button><div class='sec-4-5 collapsible-content'>
<p>
Quando si usa TCP il singolo pacchetto prende il nome di 
<b>segmento</b>. Questo perch√® TCP separa un <b>flusso dati</b> in molti segmenti.
</p>

<p>
La logica con cui TCP separa i dati si basa sul fatto che <i>la dimensione massima di ogni segmento deve essere minore dell'MTU dell'interfaccia</i>, 
in modo che il protocollo IP non debba splittare ulteriormente i pacchetti.
</p>

<ul class="org-ul">
<li><p>
<b>sequence number</b>, viene usato dal destinatario per identificare
segmenti duplicati, e per capire l'ordine dei segmenti TCP.
</p>
</li>

<li><p>
Il mittente e il destinatario hanno un buffer per gestire l'ordine
di invio durante la comunicazione. E' una sorta di "sala d'attesa" in 
cui i dati vengono riordinati per garantire maggiore affidabilit√†.
</p>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-4-6" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-4-6" nil> 4.6 Altri dettagli &triangledown;</h3>
</button><div class='sec-4-6 collapsible-content'>
<p>
Ecco altri concetti importanti: 
</p>

<ul class="org-ul">
<li><p>
La connessione virtuale che si crea tra i processi √® <b>full duplex</b>:
una volta che la connessione √® creata, non ci sono pi√π
differenze tra client e server: si possono inviare dati a vicenda.
</p>
</li>

<li><p>
<b>controllo di flusso</b> \(\rightarrow\) tcp regola il tasso di trasmissione
di dati in base alla capacit√† di ricezione del destinatario,
in modo da cercare di impedire la congestione della rete.
</p>
</li>

<li><p>
TCP √® un <b>Protocollo asincrono</b>: il SO potrebbe aspettare ad inviare
dati, appunto per la questione dell'affidabilit√† e della
sicurrezza. A volte il processo applicativo destinatario
pu√≤ aspettare a richiedere i paccheti.
</p>
</li>
</ul>


<ul class="org-ul">
<li><p>
Il processo destinatario che riceve dei dati dal sistema operativo
√® sicuro che essi siano <b>ordinati</b>. Quindi si ha una logica <b>trasparente</b>,
il protocollo TCP si occupa di riordinarli e assicurarsi che i dati ricevuti
sono uguali ai dati inviati.
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-7" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-4-7" nil> 4.7 Non garanzie &triangledown;</h3>
</button><div class='sec-4-7 collapsible-content'>
<ul class="org-ul">
<li><p>
comunicazione in tempo reale
</p>
</li>
<li><p>
disponibilit√† di banda tra mittente e destinatario
</p>
</li>
<li><p>
Comunicazioni multicast (un mittente e molti destinatari)
</p>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-4-8" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-4-8" nil> 4.8 Problemi da affrontare &triangledown;</h3>
</button><div class='sec-4-8 collapsible-content'>
<ul class="org-ul">
<li><p>
<b>Etereogenit√†</b> degli host e dei processi: da ogni lato deve essere
implementata della logica per attivare e concludere le comunicazioni;
</p>
</li>

<li><p>
<b>Timeout</b> : deve essere lo stesso per due processi locali rispetto a un timeout
tra due processi agli estremi del mondo? \(\rightarrow\) c'√® bisogno di usare
un timeout <i>adattivo</i>;
</p>
</li>
<li><p>
Possibili <b>ritardi</b> nella consegna, vista la complessa logica implementata;
</p>
</li>
<li><p>
Gestione di host con caratteristiche computazioniali eterogenee;
</p>
</li>
<li><p>
Gestione dell'eterogeneit√† delle connessioni di rete, che possono
essere molto diverse.
</p>
</li>
</ul>
</div>
</div>
</div>
   </div>
   <div class="col-xs-1"></div>
</div> <!-- end row -->

<div class="row top-buffer"> </div>

<div class="row top-buffer"> </div>

<div class="row">
   <div class="col-xs-1"></div>
   <div class="col-xs-10"><hr style="border: 1px solid #FFFFFF" />   </div>
   <div class="col-xs-1"></div>
</div> <!-- end row -->
<div class="row">
   <div class="col-xs-1"></div>
   <div class="col-xs-10"><footer id="postamble">
<div>
<p class="author"><b>Author</b>: Matteo Lugli üêÉ</p><p class="email"><b>Email</b>: <a href="mailto:matteolugli18@gmail.com">matteolugli18@gmail.com</a></p><p class="date"><b>Created</b>: 2022-11-22 Tue 13:29</p>
</div>
</footer>
   </div>
   <div class="col-xs-1"></div>
</div> <!-- end row -->
<div class="row top-buffer"> </div>

<div class="row top-buffer"> </div>

<div class="row top-buffer"> </div>
<script>

      function set_sections() {
	// -- Deal with the hiding/showing of the various sections
	var buttons = document.getElementsByClassName('collapsible');

	for (var i = 0; i < buttons.length; i++) {
	  buttons[i].addEventListener('click', function() {
	    var content = this.parentElement;
	    divs = content.getElementsByTagName('div');
	    for (var j = 0; j < divs.length; j++) {
	      if (divs[j].style.display === '' || divs[j].style.display === 'block') {
		divs[j].style.display = 'none';
	      } else {
		divs[j].style.display = 'block';
	      }
	    }
	  });
	}
      }

      function hide_sections() {
	// -- Deal with the hiding/showing of the various sections
	var buttons = document.getElementsByClassName('collapsible');
	var sections_to_not_hide = ['Lecture Info', 'Overview', 'Basic Info', 'Informazioni Lezione', 'Table of Contents', 'Informazioni', 'Lecture Summary']

	for (var i = 0; i < buttons.length; i++) {
	  // -- Check which sections to hide initially
	  html_elem = buttons[i].getElementsByTagName('h2').length > 0 ?
	    buttons[i].getElementsByTagName('h2')[0] :
	    buttons[i].getElementsByTagName('h3').length > 0 ?
	    buttons[i].getElementsByTagName('h3')[0] :
	    buttons[i].getElementsByTagName('h4')[0];

	  var hide_section = true;

	  for (var h = 0; h < sections_to_not_hide.length; h++) {
	    if (html_elem.innerHTML.includes(sections_to_not_hide[h])) {
	      hide_section = false;
	    }
	  }

	  if (hide_section) {
	    divs = buttons[i].parentElement.getElementsByTagName('div');

	    for (var j = 0; j < divs.length; j++) {
	      divs[j].style.display =
		divs[j].style.display === '' || divs[j].style.display === 'block' ?
		divs[j].style.display = 'none' :
		divs[j].style.display = 'block';
	    }
	  }    
	}
      }

      // ---------------------------

      // function to set a given theme/color-scheme
      function setTheme(themeName) {
        localStorage.setItem('theme', themeName);
        document.documentElement.className = themeName;
      }

      // function to toggle between light and dark theme
      function toggleTheme() {
        if (localStorage.getItem('theme') === 'theme-dark') {
          setTheme('theme-light');
        } else {
          setTheme('theme-dark');
        }
      }

      // Immediately invoked function to set the theme on initial load
      (function () {
        if (localStorage.getItem('theme') === 'theme-light') {
          setTheme('theme-light');
        } else {
          setTheme('theme-dark');
        }
      })();
      

      // ---------------------------

      // toggle menu
      var menu_off = 1
      
      function toggleMenu() {
	let menu = document.querySelector('.side-menu');
	let menu_list = document.querySelector('.side-menu-content');
	let toggle = document.querySelector('.toggle');

	let inactive_color = getComputedStyle(document.body)
	    .getPropertyValue('--color-background');

	let active_color = getComputedStyle(document.body)
	    .getPropertyValue('--color-primary');	
		
	if (menu_off) {
	  // activate menu
	  toggle.style.backgroundColor = active_color;
	  menu.style.width = '170px';
	  menu_list.style.display = 'block';
	  menu_off = 0;
	} else {
	  // de-activate menu
	  toggle.style.backgroundColor = inactive_color;
	  menu.style.width = '60px';	  
	  menu_list.style.display = 'none';
	  menu_off = 1;
	}
      }

set_sections();
hide_sections();
</script>
</div>
</body>
</html>
