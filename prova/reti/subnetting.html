<!DOCTYPE html>
<head>
<title> <b>Subnetting 2020-11-5(t)</b> </title>
<meta name="viewport" content="width=device-width, initial-scale=1"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="generator" content="Org-mode"><meta name="author" content="Matteo Lugli">
<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@5.2/distr/fira_code.css">
<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
<style>
    .theme-light {
	--color-primary: black;
	--color-background: white;
	--color-text: black;
    }

    .theme-dark {
    
	--color-primary: #23b0ff;
	--color-background: #21202C;
	--color-text: white;
    }
    
    body {
	font-family: 'Fira Code', monospace;
	font-size: 20px;
	background-color: var(--color-background);
    }

    div#menu {
	position: sticky;
	position: -webkit-sticky;
	top: 5px;
	z-index: 30;
    }

    div#menu button {
	right: 0px;
	position: absolute;
    }

    p {
	color: var(--color-text);
    }

    h1, h2, h3, h4, h5, a {
	color: var(--color-primary);
    }

    nav a {
	color: var(--color-text);
    }

    nav a:hover {
	color: var(--color-primary);
	text-decoration: none;
    }

    ul li, ol li {
	color: var(--color-primary);
    }

    .collapsible {
	background-color: var(--color-background);
	border: none;
	text-align: left;
    }
    
    .top-buffer { margin-top: 18px; }

    figcaption { font-size: 15px; }

    footer { text-align: center; }

    .observation {
	border-style: solid;
	margin-top: 20px;
	margin-bottom: 20px;
    }

    pre {
	font-size: 20px;
	background-color: black;
	color: white;
	inline-size: 900px;
	overflow: auto;
	word-wrap: normal;
    }

    blockquote {
	border-left: 5px solid var(--color-primary);
    }

    blockquote p {
	color: var(--color-text);
    }

    /* side-menu stuff */
    .side-menu {
	position: fixed;
	left: 0;
	width: 60px;
	height: 100%;
	z-index: 100;
    }

    .side-menu-content {
	display: none;
	position: absolute;
	top: 60px;
	left: 0px;
	height: 100%;
	/* background-color: var(--color-primary); */
	z-index: 100;	
    }

    .side-menu-content ul {
	list-style-type: none;
	position: relative;
	margin-left: 5px;
	width: 100%;
	padding-left: 0px;
    }

    .side-menu-content ul li {
	position: relative;
	padding-top: 5px;
	font-size: 15px;
	padding-left: 0px;
    }

    .side-menu-content ul li a {
	color: var(--color-primary);
	text-decoration: none;
	font-weight: bold;
    }

    .toggle {
	position: absolute;
	display: block;
	top: 0;
	left: 0;
	width: 80px;
	height: 60px;
	background: var(--color-background);
    }

    .toggle:hover {
	background: var(--color-primary);
    }

    .toggle:before {
	content: '\f0c9';
	font-family: fontAwesome;
	position: absolute;
	width: 100%;
	height: 100%;
	line-height: 60px;
	text-align: center;
	font-size: 24px;
	color: var(--color-text);
    }

    @media (max-width: 1024px) {
	pre {
	    inline-size: 600px;
	}
    }

    @media (max-width: 576px) {
	* {
	    font-size: 10px;
	}

	h1 {
	    font-size: 13px;
	}

	h2, h3, h4, h5 {
	    font-size: 12px;
	}

	blockquote {
	    font-size: 15px;
	}

	pre, li pre {
	    font-size: 10px;
	    color: white;
	    inline-size: 300px;
	    word-wrap: normal;
	    overflow: auto;
	}

        li pre {
	    inline-size: 250px;
        }

	.toggle {
	    width: 30px;
	}

	.toggle:before {
	    content: '\f0c9';
	    font-family: fontAwesome;
	    position: absolute;
	    width: 100%;
	    height: 100%;
	    line-height: 60px;
	    text-align: center;
	    font-size: 12px;
	    color: var(--color-text);
	}	
    }


</style>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  displayAlign: "center",
  displayIndent: "2em",
  messageStyle: "none",
  "HTML-CSS": {
    scale: 100,
    styles: {
      ".MathJax_Display": {
        "font-size": "100%"
      }
    }
  },
  "SVG": {
    scale: 100,
    styles: {
      ".MathJax_SVG_Display": {
        "font-size": "100%",
        "margin-left": "-2.281em"
      }
    }
  }
});
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_SVG"></script>
</head>
<body>
<div id="content" class="container">

<div class="row top-buffer"> </div>

<div class="row">
   <div class="col-xs-1"></div>
   <div class="col-xs-10"><h1 class="title"><b>Subnetting 2020-11-5(t)</b></h1>
   </div>
   <div class="col-xs-1"></div>
</div> <!-- end row -->
<div class="row">
   <div class="col-xs-1"></div>
   <div class="col-xs-10"><hr style="border: 1px solid #FFFFFF" />   </div>
   <div class="col-xs-1"></div>
</div> <!-- end row -->
<div class="row">
   <div class="col-xs-1"></div>
   <div class="col-xs-10"><div id="outline-container-sec-1" class="outline-2"><button type="button" class="collapsible">
<h2 id="sec-1" style="text-decoration: underline"> 1 Info &triangledown;</h2>
</button><div class='sec-1 collapsible-content'>
<p>
Note e appunti della lezione dell'archivio telegram sul subnetting.
La lezione ha un'approccio molto pratico e tratta principalmente esempi.
</p>

<blockquote>
<p>
Ringrazio Leonardo Tamiano per avermi gentilmente fornito l'exporter
per il tema utilizzato.
</p>
</blockquote>
</div>
</div>
   </div>
   <div class="col-xs-1"></div>
</div> <!-- end row -->

<div class="row">
   <div class="col-xs-1"></div>
   <div class="col-xs-10"><div id="outline-container-sec-2" class="outline-2"><button type="button" class="collapsible">
<h2 id="sec-2" style="text-decoration: underline"> 2 Alcuni esempi &triangledown;</h2>
</button><div id="outline-container-sec-2-1" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-2-1" nil> 2.1 Esempio 1 &triangledown;</h3>
</button><div class='sec-2-1 collapsible-content'>
<p>
<b>255.255.255.128</b> \(\rightarrow\) /25, è la metà di una rete con subnet mask /24. Si hanno  \(2^7\) hostid invece che 
\(2^8\), avendo "rubato" un bit al netid.
</p>
</div>
</div>
<div id="outline-container-sec-2-2" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-2-2" nil> 2.2 Esempio 2 &triangledown;</h3>
</button><div class='sec-2-2 collapsible-content'>
<p>
Un router riceve un pacchetto destinazione: <b>150.100.12.176</b>.
Se si hanno a disposizione la  <b>subnet mask</b> della rete e <b>l'indirizzo IP</b> destinazione, il router fa
l'and logico tra i due per ottenere il <b>NETID</b> della rete bersaglio.
</p>
</div>
</div>
</div>
   </div>
   <div class="col-xs-1"></div>
</div> <!-- end row -->

<div class="row">
   <div class="col-xs-1"></div>
   <div class="col-xs-10"><div id="outline-container-sec-3" class="outline-2"><button type="button" class="collapsible">
<h2 id="sec-3" style="text-decoration: underline"> 3 Subnetting e Supernetting &triangledown;</h2>
</button><div class='sec-3 collapsible-content'>
<ul class="org-ul">
<li><p>
<b>Subnetting</b> \(\rightarrow\) dividere una rete principale in diverse sottoreti;
</p>
</li>
<li><p>
<b>Supernetting</b> \(\rightarrow\) costruire una rete principale date diverse reti minori.
</p>
</li>
</ul>
<p>
Ecco alcuni <b>vantaggi</b> di queste operazioni di ripartizione di una rete:
</p>
<ol class="org-ol">
<li><p>
Maggiore <b>flessibilità</b> e <b>modularità</b>, anche in caso di guasti o malfunzionamenti;
</p>
</li>
<li><p>
Le operazioni di routing effettuate dal router vengono <b>semplificate</b> notevolmente.
</p>
</li>
</ol>
</div>
<div id="outline-container-sec-3-1" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-3-1" nil> 3.1 Subnetting &triangledown;</h3>
</button><div class='sec-3-1 collapsible-content'>
<p>
Essenzialmente consiste nel "rubare" uno o più bit all'hostID per riservarli al NetID.
Supponiamo che un'amministratore di rete debba suddividere una rete con netmask /16 
in 5 sottoreti. Una possibile ripartizione dello spazio di indirizzamento può essere la seguente: \(\downarrow\)

<div class="row top-buffer"> </div>
<img src="./par2.png"class="img-responsive"style="display: block; margin-left: auto; margin-right: auto;">
<div class="row top-buffer"> </div>

</p>
</div>
<div id="outline-container-sec-3-1-1" class="outline-4"><button type="button" class="collapsible">
<h4 id="sec-3-1-1" nil> 3.1.1 Esempio 1: &triangledown;</h4>
</button><div class='sec-3-1-1 collapsible-content'>
<p>
Consideriamo il seguente <b>Indirizzo IP</b>: 10011100.10011010.01010001.00111000
e la seguente <b>Subnet Mask</b>: 11111111.1111111.111111111.11110000
</p>
<ul class="org-ul">
<li><p>
<i>Qual'è il <b>NETID</b> della subnet in questione?</i>
</p>
</li>
</ul>
<p>
\(\Rightarrow\) <b>and</b> logico tra Indirizzo IP e Subnet Mask
\(\rightarrow\) 10011100.10011010.01010001.00110000
</p>

<ul class="org-ul">
<li><p>
<i>Qual'è il range di host di qusta rete?</i> </p>
</li>
</ul>
<p>
<b>Range di host</b>: \(2^4-2\) dove \(n\) è il numero di ultimi zeri della mask.
In questo caso 14 host, da <b>156.154.81.49</b> a <b>156.154.81.62</b>, che corrispondono
a  10011100.10011010.01010001.00110001 e 10011100.10011010.01010001.00111110
</p>
<ul class="org-ul">
<li><p>
<i>Qual'è l'indirizzo di broadcast di host di qusta rete?</i>
</p>
</li>
</ul>
<p>
<b>Broadcast</b> --> 10011100.10011010.01010001.00111111
</p>
<hr >
</div>
</div>
<div id="outline-container-sec-3-1-2" class="outline-4"><button type="button" class="collapsible">
<h4 id="sec-3-1-2" nil> 3.1.2 Esempio 2 &triangledown;</h4>
</button><div class='sec-3-1-2 collapsible-content'>
<p>
Supponiamo che unimore abbia a disposizione un'indirizzo di classe B, e abbia la necessità
di suddividere la rete in base ai vari dipartimenti. In ogni dipartimento, ci sono 
meno di 100 host.
</p>
<ul class="org-ul">
<li><p>
<i>Quanti bit servono per identificare gli host di una sottorete?</i> </p>
</li>
</ul>
<p>
\(\Rightarrow\) almeno 7 bit, in modo da avere almeno \(2^7\) host disponibili.
</p>
<ul class="org-ul">
<li><p>
<i>Qual'è la netmask in questo caso?</i> </p>
</li>
</ul>
<p>
\(\Rightarrow\) 11111111.1111111.111111111.10000000 quindi 255.255.255.128, quindi serve almeno una /25
per ogni dipartimento.
</p>
</div>
</div>
<div id="outline-container-sec-3-1-3" class="outline-4"><button type="button" class="collapsible">
<h4 id="sec-3-1-3" nil> 3.1.3 Vantaggi &triangledown;</h4>
</button><div class='sec-3-1-3 collapsible-content'>
<p>
\(\blacktriangleright\) <i>A cosa serve fare subnetting all'interno di una rete universitaria?</i> \(\Rightarrow\) il vantaggio di avere questo tipo di suddivisione è che i router applicano
strategie di routing <b></b> \(\rightarrow\) i router esterni usano
i primi due byte per arrivare al router locale, che a sua volta usa il terzo
byte per indirizzare i pacchetti verso il subnet corretto.
</p>
<hr >
</div>
</div>
</div>
<div id="outline-container-sec-3-2" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-3-2" nil> 3.2 Supernetting &triangledown;</h3>
</button><div class='sec-3-2 collapsible-content'>
<p>
Il supernetting serve per risolvere il problema dell'esaurimento dello spazio di indirizzamento.
In questo caso il procedimento è inverso rispetto al subnetting: viene "rubato" un bit al netid per
riservarlo all'hostID.
Si ricordi sempre che queste operazioni sono possibili soltanto se i vari router supportano la notazione
CIDR.
</p>
</div>
</div>
</div>
   </div>
   <div class="col-xs-1"></div>
</div> <!-- end row -->

<div class="row">
   <div class="col-xs-1"></div>
   <div class="col-xs-10"><div id="outline-container-sec-4" class="outline-2"><button type="button" class="collapsible">
<h2 id="sec-4" style="text-decoration: underline"> 4 Routing Dinamico su Scala Geografica &triangledown;</h2>
</button><div class='sec-4 collapsible-content'>
<p>
Nella realtà, non vengono configurate manualmente le tabelle di routing, 
dato che i nodi di internet non rappresentano un insieme omogeneo di risorse,
e non eseguno gli stessi algoritmi di routing.
In generale, le <b>politiche di routing</b> sono le regole per decidere come instradare
il traffico:
</p>
<ul class="org-ul">
<li><p>
<i>Se sono un AS, quale traffico accetto di far passare attraverso la mia rete?</i>
</p>
</li>
</ul>
<p>
\(\Rightarrow\) ci sono diversi tipi di accordi commerciali che regolamentano queste
relazioni (ricorda <i>peering point</i> e <i>IXP</i>)
Proprio per questo motivo esistono anche diversi tipi di contratti e collegamenti
tra i vari autonomus system. Ecco i più importanti:
</p>

<p>

<div class="row top-buffer"> </div>
<img src="./as.png"class="img-responsive"style="display: block; margin-left: auto; margin-right: auto;">
<div class="row top-buffer"> </div>

</p>

<p>
Ricordiamo che i sistemi autonomi sono insiemi di nodi e router gestiti da
un'unica entità di controll centrale. Ad ogni A.S è assegnato un
<b>numero identificativo</b> compreso tra 1 e 64511. Esistono altri ID ma sono riservati.
</p>

<p>
Esistono diverse macro-categorie di routing: 
</p>
</div>
<div id="outline-container-sec-4-1" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-4-1" nil> 4.1 Routing Intra-AS &triangledown;</h3>
</button><div class='sec-4-1 collapsible-content'>
<p>
Viene usato un protocollo chiamato IGP o Interior Gate Protocol: questo tipo di
protocolli si basano su informazioni globali --> algoritmi <b>link state.</b>
</p>
</div>
</div>
<div id="outline-container-sec-4-2" class="outline-3"><button type="button" class="collapsible">
<h3 id="sec-4-2" nil> 4.2 Routing Inter-AS &triangledown;</h3>
</button><div class='sec-4-2 collapsible-content'>
<p>
Viene usato il protocollo BGP, specifico per il routing esterno. Questi algoritmi
prevedono l'assenza di informazioni complete, quindi si usano algoritmi 
<b>distance vector</b>.
</p>
</div>
</div>
</div>
   </div>
   <div class="col-xs-1"></div>
</div> <!-- end row -->

<div class="row top-buffer"> </div>

<div class="row top-buffer"> </div>

<div class="row">
   <div class="col-xs-1"></div>
   <div class="col-xs-10"><hr style="border: 1px solid #FFFFFF" />   </div>
   <div class="col-xs-1"></div>
</div> <!-- end row -->
<div class="row">
   <div class="col-xs-1"></div>
   <div class="col-xs-10"><footer id="postamble">
<div>
<p class="author"><b>Author</b>: Matteo Lugli</p><p class="email"><b>Email</b>: <a href="mailto:eros@eros-ThinkPad-T430">eros@eros-ThinkPad-T430</a></p><p class="date"><b>Created</b>: 2022-10-30 Sun 09:55</p>
</div>
</footer>
   </div>
   <div class="col-xs-1"></div>
</div> <!-- end row -->
<div class="row top-buffer"> </div>

<div class="row top-buffer"> </div>

<div class="row top-buffer"> </div>
<script>

      function set_sections() {
	// -- Deal with the hiding/showing of the various sections
	var buttons = document.getElementsByClassName('collapsible');

	for (var i = 0; i < buttons.length; i++) {
	  buttons[i].addEventListener('click', function() {
	    var content = this.parentElement;
	    divs = content.getElementsByTagName('div');
	    for (var j = 0; j < divs.length; j++) {
	      if (divs[j].style.display === '' || divs[j].style.display === 'block') {
		divs[j].style.display = 'none';
	      } else {
		divs[j].style.display = 'block';
	      }
	    }
	  });
	}
      }

      function hide_sections() {
	// -- Deal with the hiding/showing of the various sections
	var buttons = document.getElementsByClassName('collapsible');
	var sections_to_not_hide = ['Lecture Info', 'Overview', 'Basic Info', 'Informazioni Lezione', 'Table of Contents', 'Informazioni', 'Lecture Summary']

	for (var i = 0; i < buttons.length; i++) {
	  // -- Check which sections to hide initially
	  html_elem = buttons[i].getElementsByTagName('h2').length > 0 ?
	    buttons[i].getElementsByTagName('h2')[0] :
	    buttons[i].getElementsByTagName('h3').length > 0 ?
	    buttons[i].getElementsByTagName('h3')[0] :
	    buttons[i].getElementsByTagName('h4')[0];

	  var hide_section = true;

	  for (var h = 0; h < sections_to_not_hide.length; h++) {
	    if (html_elem.innerHTML.includes(sections_to_not_hide[h])) {
	      hide_section = false;
	    }
	  }

	  if (hide_section) {
	    divs = buttons[i].parentElement.getElementsByTagName('div');

	    for (var j = 0; j < divs.length; j++) {
	      divs[j].style.display =
		divs[j].style.display === '' || divs[j].style.display === 'block' ?
		divs[j].style.display = 'none' :
		divs[j].style.display = 'block';
	    }
	  }    
	}
      }

      // ---------------------------

      // function to set a given theme/color-scheme
      function setTheme(themeName) {
        localStorage.setItem('theme', themeName);
        document.documentElement.className = themeName;
      }

      // function to toggle between light and dark theme
      function toggleTheme() {
        if (localStorage.getItem('theme') === 'theme-dark') {
          setTheme('theme-light');
        } else {
          setTheme('theme-dark');
        }
      }

      // Immediately invoked function to set the theme on initial load
      (function () {
        if (localStorage.getItem('theme') === 'theme-light') {
          setTheme('theme-light');
        } else {
          setTheme('theme-dark');
        }
      })();
      

      // ---------------------------

      // toggle menu
      var menu_off = 1
      
      function toggleMenu() {
	let menu = document.querySelector('.side-menu');
	let menu_list = document.querySelector('.side-menu-content');
	let toggle = document.querySelector('.toggle');

	let inactive_color = getComputedStyle(document.body)
	    .getPropertyValue('--color-background');

	let active_color = getComputedStyle(document.body)
	    .getPropertyValue('--color-primary');	
		
	if (menu_off) {
	  // activate menu
	  toggle.style.backgroundColor = active_color;
	  menu.style.width = '170px';
	  menu_list.style.display = 'block';
	  menu_off = 0;
	} else {
	  // de-activate menu
	  toggle.style.backgroundColor = inactive_color;
	  menu.style.width = '60px';	  
	  menu_list.style.display = 'none';
	  menu_off = 1;
	}
      }

set_sections();
hide_sections();
</script>
</div>
</body>
</html>
