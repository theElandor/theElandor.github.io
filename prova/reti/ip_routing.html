<!doctype html>
<html lang="en">
<head>
<title><b>IP Routing (t)</b></title>
<!-- 2022-10-24 Mon 19:22 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Org-mode">
<meta name="author" content="Matteo Lugli">

<link  href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>
<style>
/* org mode styles on top of twbs */

html {
    position: relative;
    min-height: 100%;
}

body {
    font-size: 20px;
    margin-bottom: 105px;
    font-family: 'Fira Code', monospace;
}

h1{
    text-decoration: underline;
}
h2{
    font-weight: 400;
}
.container{
    margin-left:auto; 
    margin-right:auto;
}

footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 101px;
    background-color: #f5f5f5;
}

footer > div {
    padding: 10px;
}

footer p {
    margin: 0 0 5px;
    text-align: center;
    font-size: 16px;
}

#table-of-contents {
    margin-top: 20px;
    margin-bottom: 20px;
}

blockquote p {
    font-size: 18px;
}

pre {
    font-size: 16px;
}

.footpara {
    display: inline-block;
}

figcaption {
  font-size: 16px;
  color: #666;
  font-style: italic;
  padding-bottom: 15px;
}

/* from twbs docs */

.bs-docs-sidebar.affix {
    position: static;
}
@media (min-width: 768px) {
    .bs-docs-sidebar {
        padding-left: 20px;
    }
}

/* All levels of nav */
.bs-docs-sidebar .nav > li > a {
    display: block;
    padding: 4px 20px;
    font-size: 14px;
    font-weight: 500;
    color: #999;
}
.bs-docs-sidebar .nav > li > a:hover,
.bs-docs-sidebar .nav > li > a:focus {
    padding-left: 19px;
    color: #A1283B;
    text-decoration: none;
    background-color: transparent;
    border-left: 1px solid #A1283B;
}
.bs-docs-sidebar .nav > .active > a,
.bs-docs-sidebar .nav > .active:hover > a,
.bs-docs-sidebar .nav > .active:focus > a {
    padding-left: 18px;
    font-weight: bold;
    color: #A1283B;
    background-color: transparent;
    border-left: 2px solid #A1283B;
}

/* Nav: second level (shown on .active) */
.bs-docs-sidebar .nav .nav {
    display: none; /* Hide by default, but at >768px, show it */
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 30px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav > li > a:focus {
    padding-left: 29px;
}
.bs-docs-sidebar .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav > .active:focus > a {
    padding-left: 28px;
    font-weight: 500;
}

/* Nav: third level (shown on .active) */
.bs-docs-sidebar .nav .nav .nav {
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 40px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav .nav > li > a:focus {
    padding-left: 39px;
}
.bs-docs-sidebar .nav .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav .nav > .active:focus > a {
    padding-left: 38px;
    font-weight: 500;
}

/* Show and affix the side nav when space allows it */
@media (min-width: 992px) {
    .bs-docs-sidebar .nav > .active > ul {
        display: block;
    }
    /* Widen the fixed sidebar */
    .bs-docs-sidebar.affix,
    .bs-docs-sidebar.affix-bottom {
        width: 213px;
    }
    .bs-docs-sidebar.affix {
        position: fixed; /* Undo the static from mobile first approach */
        top: 20px;
    }
    .bs-docs-sidebar.affix-bottom {
        position: absolute; /* Undo the static from mobile first approach */
    }
    .bs-docs-sidebar.affix .bs-docs-sidenav,.bs-docs-sidebar.affix-bottom .bs-docs-sidenav {
        margin-top: 0;
        margin-bottom: 0
    }
}
@media (min-width: 1200px) {
    /* Widen the fixed sidebar again */
    .bs-docs-sidebar.affix-bottom,
    .bs-docs-sidebar.affix {
        width: 263px;
    }
}
</style>
<script>
$(function() {
    'use strict';

    $('.bs-docs-sidebar li').first().addClass('active');

    $(document.body).scrollspy({target: '.bs-docs-sidebar'});

    $('.bs-docs-sidebar').affix();
});
</script><link rel="stylesheet" type="text/css" href="./dark_theme.css"/>
<style>.container{padding-left: 70px; padding-right: 70px;}</style>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  displayAlign: "center",
  displayIndent: "2em",
  messageStyle: "none",
  "HTML-CSS": {
    scale: 100,
    styles: {
      ".MathJax_Display": {
        "font-size": "100%"
      }
    }
  },
  "SVG": {
    scale: 100,
    styles: {
      ".MathJax_SVG_Display": {
        "font-size": "100%",
        "margin-left": "-2.281em"
      }
    }
  }
});
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_SVG"></script>
</head>
<body>
<div id="content" class="container">
<div class="row"><div class="col-md-12"><h1 class="title"><b>IP Routing (t)</b></h1>
<div id="outline-container-sec-" class="outline-2">
<h2 id="sec-">Info</h2>
<div class="outline-text-2" id="text-">
<p>
Il seguente file contiene informazioni delle seguenti lezioni dall'
archivio telegram:
</p>
<ul class="org-ul">
<li>2020-10-27
</li>
<li>2020-11-02
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-" class="outline-2">
<h2 id="sec-">Table of Contents</h2>
<div class="outline-text-2" id="text-">
<ul class="org-ul">
<li><a href="#sec-1">Host e Router</a>
</li>
<li><a href="#sec-2">Problema del routing</a>
</li>
<li><a href="#sec-3">Architettura di un router</a>
</li>
<li><a href="#sec-4">Modalità di trasmissione dei dati</a>
</li>
</ul>
<hr >
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Host e Router</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li><b>Host</b>: <code>terminatore</code> della connessione;
</li>
<li><b>Router</b>: <code>intermediario</code> all'interno della rete;
</li>
</ul>
<p>
Quando un host invia un pacchetto, deve decidere a quale router
inviarlo. Quest'ultimo viene detto <code>First Hop Router</code>;
In assenza di regole specifiche, il f.h.r è il <b><code>Default Gateway</code></b>;
Il <code>Next Hop Router</code> è il <i>prossimo router</i> a cui il pacchetto deve
essere inoltrato, se ci si posiziona in un certo nodo della rete.
Quando il pacchetto arriva al router che gestisce la rete locale
dell'host destinazione, allora ha raggiunto il <code>Destination Router</code>;
Ogni volta che si "attraversa" un router si dice che il pacchetto
ha fatto un <i>salto</i>, o <code>hop</code>;
</p>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Problema del routing</h2>
<div class="outline-text-2" id="text-2">
<p>
Instradare i pacchetti nella rete è un problema 
complesso. Può tuttavia essere suddiviso in 2 sottoproblemi:
<i>(i)</i> ip forwarding e <i>(ii)</i> routing.
</p>
</div>
<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> <b>Ip forwarding</b></h3>
<div class="outline-text-3" id="text-2-1">
<p>
Problema del singolo router che deve capire come inoltrare il 
pacchetto al prossimo router per raggiungere la destinazione
(next hop).
Questa scelta viene fatta in base alla <b><code>tabella di routing</code></b> e all'indirzzo
destinazione.
La tablella di routing specifica per ogni <i>Network Destinazione</i> qual'è il 
<i>next hop router</i> a cui inoltrare il pacchetto.
</p>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> <b>Protocollo di Routing</b></h3>
<div class="outline-text-3" id="text-2-2">
<p>
In questo sottoproblema ci si occupa di mantenere la tabella di routing
aggiornata per risolvere il sottoproblema 1. Infatti non è
banale popolare la tabella di routing (in laboratorio l'abbiamo fatto
a mano, ma non succede così nel mondo reale).
</p>

<p>
Quando si pensa al problema del routing, ci si deve ricordare
che si è sempre nell'ottica del <b>packet switching</b>, o commutazione
di pacchetto (\(\rightarrow\) rivedere appunti corrispondenti).
</p>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Architettura di un router</h2>
<div class="outline-text-2" id="text-3">
<p>
4 componenti fondamentali: 
</p>
<ol class="org-ol">
<li><b><code>Porta di ingresso</code></b>
E' a sua volta suddivisa in 3 parti:
<ul class="org-ul">
<li><b>Line Termination</b>
</li>
<li><b>Scheda di rete</b>
</li>
<li><b>Lv.3 queue</b>: 
Coda in cui i pacchetti vengono messi, vengono
processati uno a uno secondo una logica <i>fifo</i>
</li>
</ul>
</li>
<li><b><code>Commutatore</code></b>
Area che constente di prendere pacchetti da qualsiasi porta e 
inoltrarli su qualsiasi altra porta. Questo componente lavora
in stretto contatto con il processore di routing.
Per fare ciò ci sono diversi approcci:
<ul class="org-ul">
<li><b>Switch</b>: si fa una mappatura ingresso \(\rightarrow\) uscita 
su un'area di memoria condivisa.
</li>
<li><b>Bus</b>: ci si basa su un semplice bus di comunicazione: verrà
detto alla scheda di uscita "in che istante" leggere l'input
dal bus.
</li>
<li><b>Crossbar</b>: tutte le schede di rete sono completamente connesse
tra di loro.
</li>
</ul>
</li>
<li><b><code>Processore</code></b>
Componente che ha il compito di controllare la tabella di routing
e <i>istruire</i> il commutatore.
</li>
<li><b><code>Porta di Uscita</code></b>
Duale della porta di uscita, anche in questo caso è implementata
una logica di buffering con una coda. 
</li>
</ol>

<p>
<b>Congestione</b>: \(\rightarrow\) riempimento del buffer! Se capita, 
i pacchetti che non riescono a entrare nella coda vengono persi.
In questo caso, il mittente <b>non sa</b> che il pacchetto che ha inviato
in realtà è stato perso e non arriverà mai al destinatario.
</p>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Modalità di trasmissione dei dati</h2>
<div class="outline-text-2" id="text-4">
<p>
I router lavorano usando l'approccio <b><code>store and forward</code></b>.
Infatti il router ha un ruolo <b>attivo</b> nella modifica dei pacchetti:
una volta che ha ricevuto un pacchetto, deve poter eseguire alcune operazioni fondamentali come ad esempio:
</p>
<ul class="org-ul">
<li>Controllo di integrità dei pacchetti (checksum);
</li>
<li>Traduzione dell'indirizzo sorgente/destinazione se si fa NAT;
</li>
<li>Modifica del time to live.
</li>
</ul>
<p>
La funzione di routing, che quindi sceglie il percorso nella
rete attraverso il quale consegnare i pacchetti, ha alcune
caratteristiche fondamentali da tenere a mente:
</p>
<ol class="org-ol">
<li>Consegna <b>priva di connessione</b>: quindi ogni pacchetto
è trattato in modo indipendente;
</li>
<li>Consegna <b>con impegno (best effort)</b>: si cerca di 
consegnare <i>ogni pacchetto</i>;
</li>
<li>La consegna è <b>non garantita</b>, i pacchetti possono
essere persi, duplicati, ritardati, o consegnati
senza ordine.
</li>
</ol>
<hr >
</div>
</div>
</div></div></div>
<footer id="postamble" class="">
<div><p class="author">Author: Matteo Lugli</p>
<p class="date">Created: 2022-10-24 Mon 19:22</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 26.3 (<a href="http://orgmode.org">Org-mode</a> 9.1.9)</p>
</div>
</footer>
</body>
</html>
