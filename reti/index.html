<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Protocolli e architetture di rete ITA-(2022/2023) :: ML</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="protocolli e architetture di rete" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="/reti/" />




<link rel="stylesheet" href="/assets/style.css">

  <link rel="stylesheet" href="/assets/blue.css">



<link rel="stylesheet" href="/style.css">


<link rel="apple-touch-icon" href="/img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="/img/favicon/blue.png">



<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Protocolli e architetture di rete ITA-(2022/2023)">
<meta property="og:description" content="protocolli e architetture di rete" />
<meta property="og:url" content="/reti/" />
<meta property="og:site_name" content="ML" />

  
    <meta property="og:image" content="/img/favicon/blue.png">
  

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2022-10-04 15:18:54 &#43;0200 CEST" />












</head>
<body class="blue">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Home
  </div>
</a>

    </div>
    
      <div class="menu-trigger">menu</div>
    
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/htb">HTB</a></li>
        
      
      
        <ul class="menu__sub-inner">
          <li class="menu__sub-inner-more-trigger">Uni-Notes ▾</li>

          <ul class="menu__sub-inner-more hidden">
            
              
                <li><a href="/reti">Reti</a></li>
              
            
              
                <li><a href="/security">Security</a></li>
              
            
          </ul>
        </ul>
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/htb">HTB</a></li>
      
    
      
        <li><a href="/reti">Reti</a></li>
      
    
      
        <li><a href="/security">Security</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="/reti/">Protocolli e architetture di rete ITA-(2022/2023)</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2022-10-04
        
      </span>
    
    
    
  </div>

  
  


  

  <div class="post-content"><div>
        
  <figure class="left" >
    <img src="/ox-hugo/internet.jpeg"   />
    
  </figure>


<h2 id="intro-e-disclaimer"><em>Intro e disclaimer</em><a href="#intro-e-disclaimer" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<pre><code class="language-example" data-lang="example">Questa pagina (in italiano) contiene i miei appunti del corso di
&quot;Protocolli e architetture di rete&quot; del corso triennale di informatica
di Unimore.
Verranno quindi riportati gli approfondimenti / chiarimenti che vengono
fatti durante le lezioni. Il materiale non è sostitutivo alle slide.
</code></pre><p>→ Link per accedere al <code>materiale didattico</code>:
<a href="https://weblab.ing.unimore.it/protocolli/2223">https://weblab.ing.unimore.it/protocolli/2223</a>
Le credenziali per accedere al materiale di quest&rsquo;anno sono:</p>
<ul>
<li><strong>username</strong>: PAR2223</li>
<li><strong>password</strong>: Kaw8Meir</li>
</ul>
<p>Le credenziali per accedere al materiale dell&rsquo;anno scorso sono:</p>
<ul>
<li><strong>username</strong>: PAR2021</li>
<li><strong>password</strong>: wuaMoop2</li>
</ul>
<hr>
<h2 id="table-of-contents">TABLE OF CONTENTS<a href="#table-of-contents" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<ul>
<li><a href="#metodi-di-comunicazione">METODI DI COMUNICAZIONE</a></li>
<li><a href="#protocollo-tcp-ip">PROTOCOLLO TCP/IP</a></li>
<li><a href="#htn--introduzione">(HTN) INTRODUZIONE</a></li>
<li><a href="#htn--lan-e-ethernet">(HTN) LAN e ETHERNET</a></li>
</ul>
<hr>
<h2 id="metodi-di-comunicazione">METODI DI COMUNICAZIONE<a href="#metodi-di-comunicazione" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p><a href="#table-of-contents"> &ndash;&gt; TOC</a></p>

  <figure class="left" >
    <img src="/ox-hugo/protocolli_intro_sintesi.png"   />
    
  </figure>


<p>I protocolli hanno senso se condivisi, bisogna definire degli <strong>standard</strong>
comuni.</p>
<ul>
<li><code>ISO/OSI</code> &ndash;&gt; standard <strong>de iure</strong>, prima progettato su carta.</li>
</ul>
<p>Sviluppato su 7 livelli come in Figura 1. Il pacchetto viene &ldquo;inviato&rdquo;
dallo strato fisico di un host all&rsquo;altro, poi viene &ldquo;depacchettizzato&rdquo;.</p>
<ol>
<li><strong>Livello fisico</strong> : interessante dal punto di vista elettronico.</li>
<li><strong>Livello di collegamento</strong>: stabilisce come vengono strutturati i pacchetti
appena prima che vengano trasmessi fisicamente.Il pacchetto a questo
stadio viene anche chiamato <strong>frame</strong> (es. contiene dei bit per sincronizzare le schede di rete prima
della configurazione effettiva).</li>
<li><strong>Livello di rete</strong> Livello centrale, si occupa dell&rsquo;instradamento dei pacchetti.</li>
<li><strong>Livello di trasporto</strong>: trasporto dei pacchetti nella rete (nodi).</li>
<li><strong>Livello di sessione</strong>: vuole ricreare un&rsquo;astrazione di alto livello, ri-orgranizzando
i pacchetti.</li>
<li><strong>Livello di presentazione</strong>: si occupa di come viene <em>rappresentata</em> l&rsquo;informazione.</li>
<li><strong>Livello di applicazione</strong>: fornisce un&rsquo;interfaccia per le applicazioni
che si interfacciano con la rete.</li>
</ol>

  <figure class="left" >
    <img src="/ox-hugo/osi_layers.png"   />
    
      <figcaption class="center" ><span class="figure-number">Figure 1: </span>ISO/OSI stack</figcaption>
    
  </figure>


<ul>
<li><strong><code>TCP/IP</code></strong> &ndash;&gt; ha prevalso nello sviluppo di internet.</li>
</ul>
<p>Diversi layer comportano un costo &ndash;&gt; si cerca di snellire lo stack,
diminuendo il numero di livelli. Nonostante ciò, si vuole mantanere
la numerazione precedente (Livello trasporto &ndash;&gt; 4, Livello Rete &ndash;&gt; 3).</p>

  <figure class="left" >
    <img src="/ox-hugo/tcpip.png"   />
    
      <figcaption class="center" ><span class="figure-number">Figure 2: </span>tcp/ip stack</figcaption>
    
  </figure>


<hr>
<h2 id="protocollo-tcp-ip">PROTOCOLLO TCP/IP<a href="#protocollo-tcp-ip" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p><a href="#table-of-contents"> &ndash;&gt; TOC</a></p>

  <figure class="left" >
    <img src="/ox-hugo/htn.png"   />
    
  </figure>


<p>2- <strong>Host to Network</strong> Modifiche del protocollo HTN non dovrebbero impattare il resto della rete:
(es. posso creare una rete universitaria, basta avere l&rsquo;hardware necessario).</p>
<p>3- <strong>Network</strong>: Protocollo per la consegna dei pacchetti da un host mittente
ad un destinatario. Ci si occupa semplicemente dell&rsquo;invio dei pacchetti,
non ci si preoccupa di sessioni, pacchetti mancanti, congestione, o simili.</p>
<p>4- <strong>Transport</strong>: servizio di consegna con impegno tra due <em>processi applicativi</em>
che stanno eseguendo su due host terminali. (es TCP, UDP);</p>
<p>5- <strong>Application</strong>: lo vedremo in seguito.</p>
<p>i layer 3 e 4 sono sempre essenzialmente quelli, possono cambiare spesso i livelli
2 e 5 nelle telecomunicazioni!</p>

  <figure class="left" >
    <img src="/ox-hugo/clessidra.png"   />
    
      <figcaption class="center" ><span class="figure-number">Figure 3: </span>Modello a clessidra</figcaption>
    
  </figure>


<p>(es. Alcune applicazioni potrebbero avere la necessità di sfruttare il protocollo
TCP perchè <strong>vuole garantire la consegna di tutti i pacchetti</strong> ).</p>
<p>(es. A livello host to network, una rete wireless potrebbe preoccuparsi della
garanzia di consegna dei pacchetti. In questo modo risolvo <strong>localmente</strong> un possibile
problema di non consegna dei pacchetti. Se non me ne preoccupo localmente, un&rsquo;altro
host dall&rsquo;altra parte del mondo potrebbe ricevere dei dati non completi.)</p>
<p>(solitamente ci si occupa dell&rsquo;affidabilità a livello <strong>end to end</strong>, a me interessa
che le applicazioni comunichino correttamente!)</p>
<p>&ndash;&gt; <strong>morale</strong>: posso decidere di risolvere i problemi in diversi layer dello stack,
quindi a seconda del contesto si possono spostare alcune funzioni in altri livelli
dello stack.</p>
<p>Non tutti i dispositivi(nodi) implementano tutto lo stack, si possono basare
soltanto su alcuni layer. Switch e bridge sono dispositivi di livelo 2,
che basano il loro funzionamento <strong>soltanto</strong> sul livello 2 (non sanno nulla
del protocolli IP ad esempio)! Il concetto è estendibile: un <strong>router</strong>
legge fino al livello 3, quindi fino all&rsquo;indirizzo IP!</p>

  <figure class="left" >
    <img src="/ox-hugo/switch.png"   />
    
      <figcaption class="center" ><span class="figure-number">Figure 4: </span>Dispositivi Livello 2</figcaption>
    
  </figure>


<p>Tuttavia esistono delle eccezioni, come gli switch di livello 3, quindi
anche qua c'è flessibilità.</p>
<p><strong>Deep packet inspection:</strong> &ndash;&gt; quando si parla di dispositivi che sono in
grado di analizzare più in profondità i pacchetti: riesce a leggere informazioni
anche a livelli più alti dello stack.</p>
<hr>
<h2 id="htn--introduzione">(HTN) INTRODUZIONE<a href="#htn--introduzione" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p><a href="#table-of-contents"> &ndash;&gt; TOC</a></p>
<p>Gli scopi del livello Host to Network sono:</p>
<ul>
<li><strong><code>interconnessione</code></strong> tra due o più host;</li>
<li><strong><code>trasmisionne di dati</code></strong> tra host interconnessi;</li>
<li><strong><code>connessione</code></strong> di un host a internet;</li>
</ul>
<p>Nello stack TCP/IP questi 3 aspetti sono fortemente interconnessi
tra di loro.</p>
<p>Alcuni esempi:</p>
<ul>
<li><strong>LAN</strong> wired: Ethernet;</li>
<li><strong>LAN</strong> wireless: 802.11x;</li>
<li><strong>PAN</strong>: (Bluetooth);</li>
<li>Mediante <strong>modem</strong>;</li>
<li><strong>WAN</strong> wireless;</li>
</ul>
<p>L&rsquo;unità informativa è chiamata <code>frame</code> (host-
router/switch, router/switch-router/switch, host-host).</p>
<p>Come anticipato, il livello H2N comprende 2 sottolivelli:</p>
<ol>
<li>Livello &ldquo;<strong>fisico</strong>&quot;:
ci si riferisce alla vera e propria connessione &ldquo;fisica&rdquo; tra gli host
(cavo coassiale, fibra ottica, trasmissione radio, modem);</li>
<li>Livello &ldquo;<strong>data link</strong>&quot;: che si occupa dell&rsquo;incapsulamento e invio
dei dati tra gli host.</li>
</ol>
<h3 id="modalità-di-trasmissione">Modalità di trasmissione<a href="#modalità-di-trasmissione" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<ol>
<li><strong><code>Unicast</code></strong> &ndash;&gt; un mittente e un destinatario;</li>
<li><strong>Multicast</strong> &ndash;&gt; comunicazione tra un mittente e un gruppo di destinatari;</li>
<li><strong>Anycast</strong> &ndash;&gt; mittente che vuole comunicare con <strong>un</strong> mittente in un gruppo;</li>
<li><strong><code>Broadcast</code></strong> &ndash;&gt; mittente che vuole comunicare un&rsquo;informazione a tutti;</li>
</ol>
<h3 id="tipi-fisici-di-collegamento">Tipi fisici di collegamento<a href="#tipi-fisici-di-collegamento" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<ol>
<li>
<p><code>Mezzo broadcast</code> Un mezzo broadcast è un mezzo attraverso il quale un host invia informazioni
a tutti gli host collegati. Si può sfruttare un dispositivo broadcast per
riservare delle informazioni (ad es.) ad alcune interfacce di rete.</p>
</li>
<li>
<p><code>Mezzo punto a punto</code> collegamento pensato per fornire comuncazione tra 2
punti soltanto.</p>
<ul>
<li><strong>Half-Duplex</strong>: collegamento che permette ad un solo host di inviare dati sul mezzo fisico
in un determinato instante.</li>
<li><strong>Full-Duplex</strong>: collegamento bidirezionale, collegamenti interni dedicati
per entrambe le direzioni (nel caso di un punto a punto).</li>
</ul>
</li>
</ol>
<p>E&rsquo; importante capire bene la differenza tra <strong>modalità di trasmissione</strong> e
<strong>tipi fisici di collegamento</strong>. Infatti, a prescindere dal mezzo, un
protocollo può prevedere molteplici modalità di trasmissione.</p>
<h2 id="htn--lan-e-ethernet">(HTN) LAN e ETHERNET<a href="#htn--lan-e-ethernet" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p><a href="#table-of-contents"> &ndash;&gt; TOC</a></p>
<p>Rete che consente la comunicazione tra dispositivi a livello locale.
Una rete locale può anche essere estesa a livello cittadino, o regionale.
Essa ha un <em>numero limitato di nodi</em>!</p>
<p><code>Backbone LAN</code> &ndash;&gt; Lan dedicate a collegare tante altre reti. Sono dorsali informatiche
che permettono la comunicazione ad alta velocità (solitamente tramite fibra ottica) tra
due punti anche molto distanti tra di loro. Sono di proprietà delle grandi aziende
di telecomunicazioni. In Italia, uno dei principali backbone network è la rete universitaria
GARR che collega attraverso reti sottomarine in fibra ottical&rsquo;università Federico II di Napoli
alla città di New York.</p>
<h3 id="scheda-di-rete">Scheda di rete<a href="#scheda-di-rete" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Un host connesso a internet ha un dispositivo fatto apposta per il protocollo H2N,
prende il nome di &ldquo;scheda di rete&rdquo;. La scheda di rete si occupa del frame (in certi casi
anche di una minima parte della logica), mentre
solitamente il sistema operativo si occupa solo delle <strong>informazioni logiche</strong>.
Quindi in realtà quando si parla di H2N non bisogna immaginarsi il dispositivo (pc, tablet) ma
la vera e propria scheda di rete.</p>
<h3 id="topologie">Topologie<a href="#topologie" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<ol>
<li><code>BUS</code> &ndash;&gt; Consiste in un cavo che collega tutti gli host, i messaggi
vengono inviati a tutti gli host come segnali elettrici, ma accettati
solo dal reale destinatario. Il problema è che se il cavo si rompe in
qualsiasi punto, la rete si rompe e non funziona più.</li>
<li><code>ANELLO</code> &ndash;&gt; Un host che riceve un pacchetto si chiede se il pacchetto
è destinato a lui. Se non è per lui, quell&rsquo;host <strong>inoltra</strong> il pacchetto!
L&rsquo;host destinatario assorbe il pacchetto quando gli arriva.</li>
<li><code>STELLA</code> &ndash;&gt; Gli host sono connessi ad un dispositivo centrale dedicato.
Si riescono a raggiungere distanze maggiori (due host possono essere
distanti &ldquo;2 cavi&rdquo;). La rottura di un collegamento provoca solo
l&rsquo;interruzione della connessione con un host. Il problema è che
se si rompe il dispositivo centrale (o si congestiona) la rete
si rompe o si rallenta.</li>
</ol>
<h3 id="protocollo-ethernet">Protocollo Ethernet<a href="#protocollo-ethernet" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Protocollo per realizzare <strong>reti locali</strong>. (Nello stack TCP/IP siamo
sempre nel livello h2n.) Questo protocollo era inizialmente progettato per funzionare
su reti cablate con <strong>topologia a BUS</strong> (velocità nell&rsquo;ordine dei Mbit, quando venne ideata). Ora le schede di
rete reggono velocità anche a livello di Gbit. Teoricamente
il protocollo Ethernet può essere implementato anche con cavi ottici.
In realtà al giorno d&rsquo;oggi questo protocollo è usato con topologia a stella,
molto più sicura e diffusa.</p>
<ul>
<li>Il cavo bus deve avere due &ldquo;terminatori&rdquo; che assorbono la corrente.
(slide: motivi del successo di ethernet)</li>
</ul>
<p>Vediamo ora alcuni aspetti fondamentali del protocollo ethernet:</p>
<p><strong><code>Indirizzo MAC</code></strong>:</p>
<p>Identificatori usati nel protocollo ethernet.
Esempio: 81:F4:A3:AA:9C:49 &ndash;&gt; 6 byte (8 bit ogni coppia). Questo
tipo di indirizzo è detto <strong>flat</strong>: le cifre non hanno un valore
&ldquo;posizionale&rdquo;. Tuttavia i primi 3 byte servono per identificare
il produttore della scheda di rete: con questo stratagemma si evita
di generare indirizzi hardware uguali tra produttori diversi.</p>
<p>Questi indirizzi valgono <strong>per la stessa rete locale</strong>. Ovviamente
la rete funziona correttamente se questi indirizzi sono <strong>univoci</strong>!
Ogni indirizzo MAC è associato ad un&rsquo;interfaccia di rete (a livello Hardware).
Essenzialmente viene scritto all&rsquo;interno della scheda di rete dal
produttore stesso.</p>
<p>Non ci sono misure forti che permettono a chi controlla l&rsquo;host
di &ldquo;camuffare&rdquo; l&rsquo;indirizzo MAC che il sistema operativo usa per
inviare i pacchetti.</p>
<ul>
<li>FF-FF-FF-FF-FF-FF: <strong>indirizzo di broadcast</strong>, serve per identificare
comunicazioni broadcast in reti ethernet.</li>
</ul>
<p>All&rsquo;interno del <strong>frame</strong> del pacchetto inviato viene inserito
l&rsquo;indirizzo MAC del destinatario. In una topologia BUS, a livello
elettrico tutti ricevono fisicamente il pacchetto, a livello logico
lo riceve soltanto il destinatario. Di default, l&rsquo;interfaccia di rete
confronta il suo indirizzo MAC con quello inserito all&rsquo;interno del frame.
Ci sono alcune eccezioni:</p>
<ul>
<li>Un host imposta l&rsquo;indirizzo di broadcast nella sua interfaccia di rete</li>
<li>Sull&rsquo;host sta eseguendo un software di sniffing. In questo caso
l&rsquo;interfaccia di rete si dice in modalità <strong>promisqua</strong>.</li>
</ul>
<p><strong><code>Frame Ethernet</code></strong>:</p>
<ol>
<li>
<p><strong>Preambolo</strong>: sequenza di 8 byte che serve alle interfacce di rete
per comunicare correttamente a livello fisico. (&ldquo;Framing&rdquo;)
L&rsquo;ultimo byte è una sequenza che indica la fine del preambolo,
l&rsquo;ultimo bit di questa ultima sequenza è sempre 1.
Del preambolo si preoccupa solo l&rsquo;interfaccia di rete, poi quella
sequenza viene &ldquo;scartata&rdquo;, il S.O. non se ne preoccupa.</p>
</li>
<li>
<p><strong>Indirizzo destinatario</strong> (6 byte);</p>
</li>
<li>
<p><strong>Indirizzo sorgente</strong> (6 byte);</p>
</li>
<li>
<p><strong>Camp tipo</strong></p>
</li>
<li>
<p><strong>CRC</strong>: Informazione di controllo che si trova dopo
il pacchetto dati. Per questo si parla di &ldquo;frame&rdquo;,
perchè il payload viene &ldquo;circondato&rdquo;. Il CRC serve per controllare
l&rsquo;integrità del paccheto: viene calcolato dall&rsquo;interfaccia di rete del mittente
durante l&rsquo;invio del pacchetto con un algoritmo (detto a sua volta CRC). Il
destinatario calcola a sua volta il CRC (in base ai dati che gli arrivano) e lo confronta
con il CRC ricevuto. Se i due valori coincidono, allora la
trasmissione è avvenuta correttamente.</p>
<p>Il CRC(Controllo di Ridondanza Ciclico) viene generato sulla base del contenuto di 2,3,4 e dei dati (payload).</p>
</li>
</ol>
<p>Il payload (dati) si trova tra la 4  e la 5 sequenza.</p>

      </div></div>

  

  
  

  
</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2022 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>







  
</div>

</body>
</html>
